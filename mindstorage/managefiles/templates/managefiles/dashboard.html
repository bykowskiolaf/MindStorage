<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <title>MindStorage.io</title>
</head>
<body>
    <form method="post" enctype="multipart/form-data" class="d-flex justify-content-start m-3 p-3 border">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Add file +</button>
    </form>
    <br><br><br>
    <div class="d-flex align-items-start">
        <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <button class="nav-link active" id="v-pills-all_files-tab" data-bs-toggle="pill" data-bs-target="#v-pills-all_files" type="button" role="tab" aria-controls="v-pills-all_files" aria-selected="true">
                Wszystkie Pliki
            </button>
            <button class="nav-link" id="v-pills-favourites-tab" data-bs-toggle="pill" data-bs-target="#v-pills-favourites" type="button" role="tab" aria-controls="v-pills-favourites" aria-selected="false">
                Ulubione
            </button>
            <button class="nav-link" id="v-pills-trash-tab" data-bs-toggle="pill" data-bs-target="#v-pills-trash" type="button" role="tab" aria-controls="v-pills-trash" aria-selected="false">
                Kosz
            </button>
        </div>
        <div class="tab-content" id="v-pills-tabContent">
            <div class="tab-pane fade show active" id="v-pills-all_files" role="tabpanel" aria-labelledby="v-pills-all_files-tab">
                {% for file in all_user_files %}
                <div class="d-flex justify-content-between m-3 p-3 border">
                    {{ file.owner }} |
                    <a href="media/{{ file.file }}">
                        {{ file.file }}
                    </a>|
                    <p>Uploaded: {{ file.uploaded }}</p>|
                    <p>Modified: {{ file.modified }}</p>|
                    <p>Trash status: {{file.trash}}</p>|
                    <p>Favourite status: {{file.favourite}}</p>|
                    <form action="{% url 'managefiles:file_delete' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-danger" type="submit">Delete</button>
                    </form>

                    <form action="{% url 'managefiles:add_to_trash' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-secondary" type="submit">Add to üóëÔ∏è</button>
                    </form>

                    <form action="{% url 'managefiles:favourite' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-warning" type="submit">Add to ‚≠ê</button>
                    </form>
                </div>
                <hr>
                {% endfor %}
            </div>
            <div class="tab-pane fade" id="v-pills-favourites" role="tabpanel" aria-labelledby="v-pills-favourites-tab">
                {% for file in fav_user_files %}
                <div class="d-flex justify-content-between m-3 p-3 border">
                    {{ file.owner }} |
                    <a href="media/{{ file.file }}">
                        {{ file.file }}
                    </a>|
                    <p>Uploaded: {{ file.uploaded }}</p>|
                    <p>Modified: {{ file.modified }}</p>|
                    <p>Trash status: {{file.trash}}</p>|
                    <p>Favourite status: {{file.favourite}}</p>|
                    <form action="{% url 'managefiles:file_delete' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-danger" type="submit">Delete</button>
                    </form>

                    <form action="{% url 'managefiles:add_to_trash' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-secondary" type="submit">Add to üóëÔ∏è</button>
                    </form>

                    <form action="{% url 'managefiles:favourite' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-warning" type="submit">Add to ‚≠ê</button>
                    </form>
                </div>
                <hr>
                {% endfor %}
            </div>
            <div class="tab-pane fade" id="v-pills-trash" role="tabpanel" aria-labelledby="v-pills-trash-tab">
                {% for file in trash_user_files %}
                <div class="d-flex justify-content-between m-3 p-3 border">
                    {{ file.owner }} |
                    <a href="media/{{ file.file }}">
                        {{ file.file }}
                    </a>|
                    <p>Uploaded: {{ file.uploaded }}</p>|
                    <p>Modified: {{ file.modified }}</p>|
                    <p>Trash status: {{file.trash}}</p>|
                    <p>Favourite status: {{file.favourite}}</p>|
                    <form action="{% url 'managefiles:file_delete' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-danger" type="submit">Delete</button>
                    </form>

                    <form action="{% url 'managefiles:add_to_trash' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-secondary" type="submit">Add to üóëÔ∏è</button>
                    </form>

                    <form action="{% url 'managefiles:favourite' file.id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-warning" type="submit">Add to ‚≠ê</button>
                    </form>
                </div>
                <hr>
                {% endfor %}
            </div>
        </div>
    </div>
</body>
</html>

